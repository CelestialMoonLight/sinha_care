<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sinhaaaa Care</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap');

  body {
    font-family: 'Comfortaa', cursive;
    background: #1e1e2f;
    color: #f0e6f6;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  h1 {
    color: #f5a623;
    margin-top: 30px;
    font-size: 2.5em;
    text-align: center;
    text-shadow: 2px 2px #5a4a72;
  }

  .clock-container {
    margin: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  canvas {
    background: #2a2a3f;
    border-radius: 50%;
    box-shadow: 0 0 20px #f5a623;
  }

  .meal-card {
    background: #2a2a3f;
    border-radius: 20px;
    box-shadow: 0px 8px 20px rgba(245,166,35,0.4);
    padding: 20px;
    margin: 15px auto;
    max-width: 500px;
    width: 90%;
    transition: transform 0.2s;
  }

  .meal-card:hover {
    transform: translateY(-5px);
  }

  .meal-time {
    font-weight: bold;
    color: #f5a623;
    font-size: 1.2em;
    margin-bottom: 8px;
  }

  .meal-name {
    font-size: 1.5em;
    color: #f78fb3;
    margin: 5px 0;
  }

  .meal-items ul {
    padding-left: 20px;
    margin: 5px 0;
    color: #e0d3f1;
  }

  .upcoming {
    border-top: 2px dashed #f5a623;
  }

  footer {
    margin-top: auto;
    padding: 15px 20px;
    width: 90%;
    max-width: 600px;
    text-align: center;
    background: #2a1a3d;
    color: #f78fb3;
    font-weight: bold;
    font-size: 1.1em;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(247, 143, 179, 0.5);
    margin-bottom: 20px;
    position: relative;
    transition: all 0.3s ease;
  }

  footer:hover {
    box-shadow: 0 8px 25px rgba(247, 143, 179, 0.7);
    transform: translateY(-3px);
  }

  footer .heart {
    color: #ff6b81;
    animation: heartbeat 1.2s infinite;
    display: inline-block;
  }

  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1); }
    75% { transform: scale(1.3); }
  }

  @media (max-width: 600px){
    h1 {
      font-size: 2em;
    }
    .meal-name {
      font-size: 1.3em;
    }
    canvas {
      width: 180px !important;
      height: 180px !important;
    }
  }
</style>
</head>
<body>
<h1>üåô Sinhaaaaa Care üåô</h1>

<div class="clock-container">
  <canvas id="analogClock" width="200" height="200"></canvas>
</div>

<div class="meal-card">
  <div class="meal-time" id="current-time">Waiting...</div>
  <div class="meal-name" id="current-meal">Current Meal: --</div>
  <div class="meal-items" id="current-items">Items: --</div>
</div>

<div class="meal-card upcoming">
  <div class="meal-name" id="next-meal">Next Meal: --</div>
  <div class="meal-items" id="next-items">Items: --</div>
  <div class="meal-time" id="next-time">Time: --</div>
</div>

<footer>
  Made with <span class="heart">‚ù§Ô∏è</span> by Aadil
</footer>

<script>
const meals = [
  {time: "06:30 AM", name: "Morning Detox üåø", items: ["Warm water with lemon üçã", "Optional: pinch of cinnamon or soaked methi seeds"]},
  {time: "08:00 AM", name: "Breakfast üç≥", items: ["Oats porridge with cinnamon & fruit üçå", "2-egg vegetable omelette ü•ö", "Herbal/green tea üçµ"]},
  {time: "11:00 AM", name: "Mid-Morning Snack ü•ú", items: ["Handful of mixed nuts & seeds", "Optional 1 fruit üçé", "Herbal tea üçµ"]},
  {time: "02:00 PM", name: "Lunch üêü", items: ["Brown rice üçö or 2 millet rotis", "Grilled fish / egg curry / paneer", "Mixed vegetable sabzi ü•ó", "Salad with lemon üçã", "Chaas (buttermilk)"]},
  {time: "05:00 PM", name: "Evening Snack üå∞", items: ["Boiled egg ü•ö or roasted chana/makhana", "Green/herbal tea üçµ"]},
  {time: "08:00 PM", name: "Dinner ü•ò", items: ["Grilled fish / paneer / tofu + saut√©ed vegetables", "Vegetable soup + 2 boiled eggs"]},
  {time: "10:30 PM", name: "Optional Night Drink ü•õ", items: ["Warm turmeric milk (low-fat, no sugar) OR 1 tsp flaxseeds soaked in water"]}
];

function getDhakaTime() {
  const now = new Date();
  const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
  const dhakaOffset = 6 * 60 * 60000;
  return new Date(utc + dhakaOffset);
}

function format12Hour(date){
  let hours = date.getHours();
  const minutes = date.getMinutes().toString().padStart(2,'0');
  const ampm = hours >= 12 ? 'PM' : 'AM';
  hours = hours % 12;
  hours = hours ? hours : 12; // 0 => 12
  return `${hours}:${minutes} ${ampm}`;
}

function convertTimeTo24(time12h){
  const [time, modifier] = time12h.split(' ');
  let [hours, minutes] = time.split(':').map(Number);
  if(modifier === 'PM' && hours !== 12) hours += 12;
  if(modifier === 'AM' && hours === 12) hours = 0;
  return {hours, minutes};
}

function getCurrentMeal() {
  const now = getDhakaTime();
  const currentTime = format12Hour(now);

  let current = null;
  let next = null;

  const nowH = now.getHours();
  const nowM = now.getMinutes();

  for(let i = 0; i < meals.length; i++){
    const meal24 = convertTimeTo24(meals[i].time);
    if(nowH < meal24.hours || (nowH === meal24.hours && nowM < meal24.minutes)){
      next = meals[i];
      current = i === 0 ? {name: "Sleeping / Night Rest üò¥", items:["Rest well!"]} : meals[i-1];
      break;
    }
  }
  if(!current) current = meals[meals.length-1];
  if(!next) next = meals[0];

  return {current, next};
}

function updateMeals(){
  const now = getDhakaTime();
  const currentFormattedTime = format12Hour(now);
  document.getElementById("current-time").innerText = `Time: ${currentFormattedTime}`;

  const {current, next} = getCurrentMeal();
  document.getElementById("current-meal").innerText = `Current Meal: ${current.name}`;
  document.getElementById("current-items").innerHTML = `Items: <ul>${current.items.map(item => `<li>${item}</li>`).join('')}</ul>`;
  document.getElementById("next-meal").innerText = `Next Meal: ${next.name}`;
  document.getElementById("next-items").innerHTML = `Items: <ul>${next.items.map(item => `<li>${item}</li>`).join('')}</ul>`;
  document.getElementById("next-time").innerText = `Time: ${next.time}`;
}

function mealAlert(){
  const now = getDhakaTime();
  const currentTime = format12Hour(now);

  meals.forEach(meal=>{
    if(meal.time === currentTime){
      alert(`‚è∞ It's time for: ${meal.name}\nItems:\n- ${meal.items.join('\n- ')}`);
    }
  });
}

function drawClock() {
  const canvas = document.getElementById("analogClock");
  const ctx = canvas.getContext("2d");
  const radius = canvas.height / 2;
  ctx.translate(radius, radius);
  const draw = () => {
    ctx.clearRect(-radius, -radius, canvas.width, canvas.height);
    const now = getDhakaTime();
    let hour = now.getHours();
    const minute = now.getMinutes();
    const second = now.getSeconds();

    
    hour = hour % 12;

    ctx.beginPath();
    ctx.arc(0, 0, radius-5, 0, 2*Math.PI);
    ctx.fillStyle = "#2a2a3f";
    ctx.fill();
    ctx.strokeStyle = "#f5a623";
    ctx.lineWidth = 4;
    ctx.shadowBlur = 10;
    ctx.shadowColor = "#f78fb3";
    ctx.stroke();
    ctx.shadowBlur = 0;

    ctx.font = `${radius*0.15}px Comfortaa`;
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    for(let num=1; num<=12; num++){
      const ang = num * Math.PI / 6;
      ctx.rotate(ang);
      ctx.translate(0, -radius*0.85);
      ctx.rotate(-ang);
      ctx.fillStyle="#f78fb3";
      ctx.fillText(num.toString(), 0, 0);
      ctx.rotate(ang);
      ctx.translate(0, radius*0.85);
      ctx.rotate(-ang);
    }

    function drawHand(pos, length, width, color){
      ctx.beginPath();
      ctx.lineWidth = width;
      ctx.lineCap = "round";
      ctx.strokeStyle = color;
      ctx.moveTo(0,0);
      ctx.rotate(pos);
      ctx.lineTo(0, -length);
      ctx.stroke();
      ctx.rotate(-pos);
    }

    const secondPos = second * Math.PI/30;
    const minutePos = (minute + second/60) * Math.PI/30;
    const hourPos = (hour + minute/60) * Math.PI/6;

    drawHand(hourPos, radius*0.5, 6, "#f5a623");
    drawHand(minutePos, radius*0.75, 4, "#f78fb3");
    drawHand(secondPos, radius*0.9, 2, "#e0d3f1");

    ctx.beginPath();
    ctx.arc(0,0,5,0,2*Math.PI);
    ctx.fillStyle="#f5a623";
    ctx.fill();
  }
  draw();
  setInterval(draw, 1000);
}

updateMeals();
setInterval(updateMeals, 30000);
setInterval(mealAlert, 60000);
drawClock();
</script>
</body>
</html>
